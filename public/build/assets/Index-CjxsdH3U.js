import{r as f,j as e}from"./utils-BSArQRAP.js";import{A as j}from"./app-layout-D272FG62.js";import{B as l}from"./createLucideIcon-ZlkySu63.js";import{C as v,a as k,b as w,c as N}from"./card-CxStm2Cj.js";import{T as y,a as C,b as h,c as s,d as _,e as t}from"./table-CnF3Sme4.js";import{B as n}from"./badge-Dd1uZi1Y.js";import{C as T}from"./confirm-dialog-CV5Vh1N_.js";import{P as D}from"./protected-page-DDXWLHu3.js";import{H as S,L as c,r as u}from"./app-gPlSlMMq.js";import{P}from"./plus-CAg_Nzbs.js";import{E as I}from"./eye-CzQx9l1P.js";import{S as B,T as K}from"./trash-2-DJ08tf8b.js";import"./vendor-CjZsb-BP.js";import"./small-mode-toggle-Cq2mG1yl.js";import"./index-DaO20brY.js";import"./index-PXYs5pws.js";import"./app-logo-icon-DvYaJ0Ys.js";/* empty css            */const H=[{title:"Dashboard",href:"/dashboard"},{title:"Kelola Pengguna",href:"/users"}];function Z({users:r,can:d}){const[i,m]=f.useState({isOpen:!1,userId:null,userName:""}),g=a=>{m({isOpen:!0,userId:a.id,userName:a.name})},p=()=>{i.userId&&u.delete(`/users/${i.userId}`,{onSuccess:()=>{m({isOpen:!1,userId:null,userName:""})}})},x=a=>{u.patch(`/users/${a.id}/toggle-status`,{},{onSuccess:()=>{}})},b=a=>a.status==="enabled"?e.jsx(n,{variant:"default",className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 cursor-pointer transition-all duration-200 text-white shadow-md hover:shadow-lg transform hover:scale-105 select-none",onClick:()=>x(a),title:"Klik untuk menonaktifkan user",children:"✓ Aktif"}):e.jsx(n,{variant:"destructive",className:"bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 cursor-pointer transition-all duration-200 text-white shadow-md hover:shadow-lg transform hover:scale-105 select-none",onClick:()=>x(a),title:"Klik untuk mengaktifkan user",children:"✗ Non-aktif"});return e.jsx(D,{permission:"user_read",children:e.jsxs(j,{breadcrumbs:H,children:[e.jsx(S,{title:"Kelola Pengguna"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs(v,{className:"bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 dark:from-blue-950 dark:via-indigo-950 dark:to-purple-950 border-blue-200 dark:border-blue-800 shadow-xl",children:[e.jsxs(k,{className:"flex flex-row items-center justify-between bg-gradient-to-r from-blue-500/10 to-purple-500/10 border-b border-blue-200 dark:border-blue-700",children:[e.jsxs("div",{children:[e.jsx(w,{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Kelola Pengguna"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Kelola akun pengguna sistem. Klik pada status untuk mengaktifkan/menonaktifkan user."})]}),d.create_users&&e.jsx(l,{className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white font-medium shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105",asChild:!0,children:e.jsxs(c,{href:"/users/create",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Tambah Data"]})})]}),e.jsxs(N,{className:"p-6",children:[e.jsx("div",{className:"rounded-md border",children:e.jsxs(y,{children:[e.jsx(C,{children:e.jsxs(h,{children:[e.jsx(s,{children:"Nama"}),e.jsx(s,{children:"Email"}),e.jsxs(s,{children:["Status",e.jsx("span",{className:"block text-xs text-muted-foreground font-normal",children:"(Klik untuk ubah)"})]}),e.jsx(s,{children:"Role"}),e.jsx(s,{children:"Email Verified"}),e.jsx(s,{children:"Tanggal Dibuat"}),e.jsx(s,{className:"text-right",children:"Aksi"})]})}),e.jsx(_,{children:r.data.length===0?e.jsx(h,{children:e.jsx(t,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Belum ada data pengguna"})}):r.data.map(a=>e.jsxs(h,{children:[e.jsx(t,{className:"font-medium",children:a.name}),e.jsx(t,{children:a.email}),e.jsx(t,{children:b(a)}),e.jsx(t,{children:e.jsx("div",{className:"flex gap-1 flex-wrap",children:a.roles&&a.roles.length>0?a.roles.map(o=>e.jsx(n,{variant:"outline",className:o.name==="admin"?"bg-gradient-to-r from-red-50 to-pink-50 text-red-700 border-red-300 shadow-sm hover:shadow-md transition-all duration-200":o.name==="operator"?"bg-gradient-to-r from-blue-50 to-indigo-50 text-blue-700 border-blue-300 shadow-sm hover:shadow-md transition-all duration-200":"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border-green-300 shadow-sm hover:shadow-md transition-all duration-200",children:o.display_name},o.id)):e.jsx("span",{className:"text-gray-400 text-sm",children:"No role"})})}),e.jsx(t,{children:a.email_verified_at?e.jsx(n,{variant:"outline",className:"bg-gradient-to-r from-green-50 to-emerald-50 text-green-700 border-green-300 shadow-sm",children:"Terverifikasi"}):e.jsx(n,{variant:"outline",className:"bg-gradient-to-r from-yellow-50 to-orange-50 text-yellow-700 border-yellow-300 shadow-sm",children:"Belum Verifikasi"})}),e.jsx(t,{children:new Date(a.created_at).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})}),e.jsx(t,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(c,{href:`/users/${a.id}`,children:e.jsx(I,{className:"h-4 w-4"})})}),d.edit_users&&e.jsx(l,{variant:"outline",size:"sm",className:"hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(c,{href:`/users/${a.id}/edit`,children:e.jsx(B,{className:"h-4 w-4"})})}),d.delete_users&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>g(a),className:"text-red-600 hover:text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx(K,{className:"h-4 w-4"})})]})})]},a.id))})]})}),r.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4 border-t border-blue-200 dark:border-blue-700 bg-gradient-to-r from-blue-50/50 to-purple-50/50 dark:from-blue-900/50 dark:to-purple-900/50 rounded-b-lg",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Menampilkan ",(r.current_page-1)*r.per_page+1," hingga ",Math.min(r.current_page*r.per_page,r.total)," dari ",r.total," pengguna"]}),e.jsx("div",{className:"flex space-x-2",children:r.links.map((a,o)=>e.jsx(l,{variant:a.active?"default":"outline",size:"sm",disabled:!a.url,onClick:()=>a.url&&u.get(a.url),className:a.active?"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white shadow-md":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",dangerouslySetInnerHTML:{__html:a.label}},o))})]})]})]})})}),e.jsx(T,{open:i.isOpen,onCancel:()=>m({isOpen:!1,userId:null,userName:""}),onConfirm:p,title:"Hapus Pengguna",description:`Apakah Anda yakin ingin menghapus pengguna "${i.userName}"? Tindakan ini tidak dapat dibatalkan.`})]})})}export{Z as default};
