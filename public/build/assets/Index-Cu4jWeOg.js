import{r as g,j as e}from"./utils-BSArQRAP.js";import{H as k,L as l,r as o}from"./app-gPlSlMMq.js";import{a as f,B as s}from"./createLucideIcon-ZlkySu63.js";import{I as S}from"./input-B7V3-qYC.js";import{S as _,a as w,b as C,c as T,d as n}from"./select-2V-9gRbf.js";import{C as A,a as P,b as $,c as L}from"./card-CxStm2Cj.js";import{S as I}from"./sidebar-layout-OYZ-sQvn.js";import{P as W}from"./protected-page-DDXWLHu3.js";import{u as z}from"./small-mode-toggle-Cq2mG1yl.js";import{P as m}from"./plus-CAg_Nzbs.js";import{S as u}from"./search-ByXekZDD.js";import{M as D}from"./map-pin-BR1Q3NeJ.js";import{E}from"./eye-CzQx9l1P.js";import{S as R,T as q}from"./trash-2-DJ08tf8b.js";import{i as B}from"./id-DVhW41cU.js";import{f as F}from"./format-N88NX5Wy.js";import"./vendor-CjZsb-BP.js";/* empty css            */import"./index-DaO20brY.js";import"./index-PXYs5pws.js";import"./check-DPxztf0j.js";import"./chevron-up-DxbvufES.js";import"./app-logo-icon-DvYaJ0Ys.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]],K=f("ToggleLeft",H);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]],M=f("ToggleRight",V),G=[{title:"Dashboard",href:"/dashboard"},{title:"Warga Musiman",href:"/warga-musiman"}];function fe({wargaMusiman:a,filters:c}){const[h,p]=g.useState(c.search||""),[d,b]=g.useState(c.status||"all"),{hasPermission:j}=z(),x=r=>{const t=[];return r.province&&t.push(r.province.name),r.regency&&t.push(r.regency.name),r.district&&t.push(r.district.name),r.village&&t.push(r.village.name),(r.rt||r.rw)&&t.push(`RT/RW: ${r.rt||"-"}/${r.rw||"-"}`),r.alamat_asal&&t.push(r.alamat_asal),t.join(", ")},i=()=>{o.get("/warga-musiman",{search:h||void 0,status:d==="all"?void 0:d},{preserveState:!0,replace:!0})},v=()=>{i()},y=r=>{confirm(`Apakah Anda yakin ingin ${r.status_aktif?"nonaktifkan":"aktifkan"} warga musiman ini?`)&&o.patch(`/warga-musiman/${r.id}/toggle-status`,{},{preserveState:!0})},N=r=>{confirm("Apakah Anda yakin ingin menghapus warga musiman ini?")&&o.delete(`/warga-musiman/${r.id}`,{preserveState:!0})};return e.jsx(W,{permission:"warga_musiman_read",children:e.jsxs(I,{breadcrumbs:G,children:[e.jsx(k,{title:"Warga Musiman"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 rounded-lg border border-green-200/50 dark:border-green-700/50 shadow-lg",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-green-600 to-blue-600 bg-clip-text text-transparent",children:"Warga Musiman"})}),e.jsx(s,{asChild:!0,className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 border-0 shadow-md transition-all duration-200 hover:shadow-lg",children:e.jsxs(l,{href:"/warga-musiman/create",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Tambah Data"]})})]}),e.jsxs(A,{className:"border-green-200/50 dark:border-green-700/50 shadow-xl",children:[e.jsx(P,{className:"border-b border-green-200/50 dark:border-green-700/50",children:e.jsx($,{className:"text-gray-800 dark:text-gray-200",children:"Daftar Warga Musiman"})}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(S,{placeholder:"Cari nama, NIK, atau alamat asal...",value:h,onChange:r=>p(r.target.value),onKeyPress:r=>r.key==="Enter"&&i(),className:"pl-9"})]})}),e.jsxs(_,{value:d,onValueChange:r=>{b(r),setTimeout(v,0)},children:[e.jsx(w,{className:"w-full sm:w-[180px]",children:e.jsx(C,{placeholder:"Status"})}),e.jsxs(T,{children:[e.jsx(n,{value:"all",children:"Semua Status"}),e.jsx(n,{value:"1",children:"Aktif"}),e.jsx(n,{value:"0",children:"Tidak Aktif"})]})]}),e.jsxs(s,{onClick:i,variant:"outline",className:"hover:bg-green-50 hover:text-green-600 hover:border-green-300 transition-all duration-200",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Cari"]})]}),a.data.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-green-200/50 dark:border-green-700/50 bg-gradient-to-r from-green-50/30 to-blue-50/30 dark:from-green-900/20 dark:to-blue-900/20",children:[e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-300",children:"No"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Nama Lengkap"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Alamat Asal"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Tanggal Mulai"}),e.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-700 dark:text-gray-300",children:"Aksi"})]})}),e.jsx("tbody",{children:a.data.map((r,t)=>e.jsxs("tr",{className:"border-b border-gray-200/50 dark:border-gray-700/50 hover:bg-gradient-to-r hover:from-green-50/50 hover:to-blue-50/50 dark:hover:from-green-900/20 dark:hover:to-blue-900/20 transition-all duration-200",children:[e.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200 font-medium",children:(a.current_page-1)*a.per_page+t+1}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:r.nama_lengkap}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:r.nik})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-1 text-gray-800 dark:text-gray-200",children:[e.jsx(D,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"max-w-xs truncate cursor-default",title:x(r),children:x(r)||"-"})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-800 dark:text-gray-200",children:F(new Date(r.tanggal_mulai),"dd/MM/yyyy",{locale:B})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${r.status_aktif?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400"}`,children:r.status_aktif?"Aktif":"Tidak Aktif"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex justify-center gap-1",children:[e.jsx(s,{variant:"outline",size:"sm",className:"hover:bg-green-50 hover:text-green-600 hover:border-green-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(l,{href:`/warga-musiman/${r.id}`,children:e.jsx(E,{className:"h-4 w-4"})})}),j("warga_musiman_edit")&&e.jsx(s,{variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(l,{href:`/warga-musiman/${r.id}/edit`,children:e.jsx(R,{className:"h-4 w-4"})})}),e.jsx(s,{variant:"outline",size:"sm",onClick:()=>y(r),className:"hover:bg-yellow-50 hover:text-yellow-600 hover:border-yellow-300 transition-all duration-200 shadow-sm hover:shadow-md",children:r.status_aktif?e.jsx(M,{className:"h-4 w-4"}):e.jsx(K,{className:"h-4 w-4"})}),e.jsx(s,{variant:"outline",size:"sm",onClick:()=>N(r),className:"text-red-600 hover:text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx(q,{className:"h-4 w-4"})})]})})]},r.id))})]})}):e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-green-50/30 to-blue-50/30 dark:from-green-900/10 dark:to-blue-900/10 rounded-lg border-2 border-dashed border-green-200/50 dark:border-green-700/50",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900/50 dark:to-blue-900/50 rounded-full flex items-center justify-center",children:e.jsx(m,{className:"w-8 h-8 text-green-600 dark:text-green-400"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4 text-lg",children:"Belum ada data warga musiman."}),e.jsx(s,{asChild:!0,className:"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 border-0 shadow-md transition-all duration-200 hover:shadow-lg",children:e.jsxs(l,{href:"/warga-musiman/create",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Tambah Warga Musiman"]})})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-green-200/50 dark:border-green-700/50",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(a.current_page-1)*a.per_page+1," sampai"," ",Math.min(a.current_page*a.per_page,a.total)," dari"," ",a.total," hasil"]}),e.jsx("div",{className:"flex gap-2",children:a.links.map((r,t)=>e.jsx(s,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&o.get(r.url),className:r.active?"bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 border-0":"hover:bg-green-50 hover:text-green-600 hover:border-green-300",children:r.label.replace("&laquo;","«").replace("&raquo;","»")},t))})]})]})]})]})]})})}export{fe as default};
