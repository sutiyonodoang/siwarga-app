import{r as j,j as e}from"./utils-BSArQRAP.js";import{B as s}from"./createLucideIcon-ZlkySu63.js";import{I as v}from"./input-B7V3-qYC.js";import{C as y,a as N,b as k,c as w}from"./card-CxStm2Cj.js";import{T as _,c as C,d as T,e as S}from"./small-mode-toggle-Cq2mG1yl.js";import{A as K}from"./app-layout-D272FG62.js";import{H as P,L as l,r as o}from"./app-gPlSlMMq.js";import{P as D}from"./protected-page-DDXWLHu3.js";import{P as d}from"./plus-CAg_Nzbs.js";import{S as m}from"./search-ByXekZDD.js";import{E as $}from"./eye-CzQx9l1P.js";import{S as A,T as E}from"./trash-2-DJ08tf8b.js";import"./vendor-CjZsb-BP.js";import"./index-DaO20brY.js";import"./index-PXYs5pws.js";import"./app-logo-icon-DvYaJ0Ys.js";/* empty css            */const R=[{title:"Dashboard",href:"/dashboard"},{title:"Kartu Keluarga",href:"/kartu-keluarga"}];function Z({kartuKeluarga:t,filters:c}){const[i,u]=j.useState(c.search||""),n=()=>{o.get("/kartu-keluarga",{search:i||void 0},{preserveState:!0,replace:!0})},h=(r,a=30)=>r?r.length>a?r.substring(0,a)+"...":r:"-",x=r=>[r.alamat,r.rt_rw?`RT/RW ${r.rt_rw}`:null,r.desa_kelurahan,r.kecamatan,r.kabupaten_kota,r.provinsi,r.kode_pos].filter(Boolean).join(", "),p=r=>{if(!r)return"-";try{const a=new Date(r),b=String(a.getDate()).padStart(2,"0"),g=String(a.getMonth()+1).padStart(2,"0"),f=a.getFullYear();return`${b}/${g}/${f}`}catch{return"-"}};return e.jsx(D,{permission:"kartu_keluarga_read",children:e.jsxs(K,{breadcrumbs:R,children:[e.jsx(P,{title:"Kartu Keluarga"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 rounded-lg border border-blue-200/50 dark:border-purple-700/50 shadow-lg",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Kartu Keluarga"}),e.jsx(s,{asChild:!0,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 border-0 shadow-md transition-all duration-200 hover:shadow-lg",children:e.jsxs(l,{href:"/kartu-keluarga/create",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Tambah Data"]})})]}),e.jsxs(y,{className:"border-blue-200/50 dark:border-purple-700/50 shadow-xl",children:[e.jsx(N,{className:"border-b border-blue-200/50 dark:border-purple-700/50",children:e.jsx(k,{className:"text-gray-800 dark:text-gray-200",children:"Daftar Kartu Keluarga"})}),e.jsxs(w,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(v,{placeholder:"Cari nama kepala keluarga, nomor KK, atau alamat...",value:i,onChange:r=>u(r.target.value),onKeyPress:r=>r.key==="Enter"&&n(),className:"pl-9"})]})}),e.jsxs(s,{onClick:n,variant:"outline",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200",children:[e.jsx(m,{className:"mr-2 h-4 w-4"}),"Cari"]})]}),t.data.length>0?e.jsx(_,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-blue-200/50 dark:border-purple-700/50 bg-gradient-to-r from-blue-50/30 to-purple-50/30 dark:from-blue-900/20 dark:to-purple-900/20",children:[e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"No KK"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Kepala Keluarga"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Alamat"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"RT/RW"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Tanggal Dikeluarkan"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Aksi"})]})}),e.jsx("tbody",{children:t.data.map((r,a)=>e.jsxs("tr",{className:"border-b border-gray-200/50 dark:border-gray-700/50 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 dark:hover:from-blue-900/20 dark:hover:to-purple-900/20 transition-all duration-200",children:[e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200 font-mono text-sm",children:r.no_kk}),e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200 font-medium",children:r.nama_kepala_keluarga}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs(C,{children:[e.jsx(T,{asChild:!0,children:e.jsx("span",{className:"cursor-help hover:text-blue-600 dark:hover:text-purple-400 transition-colors text-gray-800 dark:text-gray-200",children:h(r.alamat)})}),e.jsx(S,{className:"max-w-sm bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-blue-800",children:"Alamat Lengkap:"}),e.jsx("p",{className:"text-gray-700",children:x(r)})]})})]})}),e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200",children:r.rt_rw||"-"}),e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200",children:p(r.tanggal_dikeluarkan)}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(s,{variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(l,{href:`/kartu-keluarga/${r.no_kk}`,children:e.jsx($,{className:"h-4 w-4"})})}),e.jsx(s,{variant:"outline",size:"sm",className:"hover:bg-indigo-50 hover:text-indigo-600 hover:border-indigo-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(l,{href:`/kartu-keluarga/${r.no_kk}/edit`,children:e.jsx(A,{className:"h-4 w-4"})})}),e.jsx(s,{variant:"outline",size:"sm",type:"button",onClick:()=>{confirm("Yakin ingin menghapus data ini?")&&o.delete(`/kartu-keluarga/${r.no_kk}`)},className:"text-red-600 hover:text-red-700 hover:bg-red-50 hover:border-red-300 transition-all duration-200 shadow-sm hover:shadow-md",children:e.jsx(E,{className:"h-4 w-4"})})]})})]},r.no_kk))})]})})}):e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-blue-50/30 to-purple-50/30 dark:from-blue-900/10 dark:to-purple-900/10 rounded-lg border-2 border-dashed border-blue-200/50 dark:border-purple-700/50",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-blue-100 to-purple-100 dark:from-blue-900/50 dark:to-purple-900/50 rounded-full flex items-center justify-center",children:e.jsx(d,{className:"w-8 h-8 text-blue-600 dark:text-purple-400"})})}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4 text-lg",children:"Belum ada data kartu keluarga."}),e.jsx(s,{asChild:!0,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 border-0 shadow-md transition-all duration-200 hover:shadow-lg",children:e.jsxs(l,{href:"/kartu-keluarga/create",children:[e.jsx(d,{className:"mr-2 h-4 w-4"}),"Tambah Kartu Keluarga Pertama"]})})]}),t.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-4 border-t border-blue-200/50 dark:border-purple-700/50",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Menampilkan ",(t.current_page-1)*t.per_page+1," sampai"," ",Math.min(t.current_page*t.per_page,t.total)," dari"," ",t.total," hasil"]}),e.jsx("div",{className:"flex gap-2",children:t.links.map((r,a)=>e.jsx(s,{variant:r.active?"default":"outline",size:"sm",disabled:!r.url,onClick:()=>r.url&&o.get(r.url),className:r.active?"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 border-0":"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300",children:r.label.replace("&laquo;","«").replace("&raquo;","»")},a))})]})]})]})]})]})})}export{Z as default};
