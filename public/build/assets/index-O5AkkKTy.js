import{r as l,j as e}from"./utils-BSArQRAP.js";import{a as F,B as o}from"./createLucideIcon-ZlkySu63.js";import{I as c}from"./input-B7V3-qYC.js";import{S as k,a as S,b as C,c as _,d as n}from"./select-2V-9gRbf.js";import{C as w,a as A,b as P,c as T}from"./card-CxStm2Cj.js";import{B as H}from"./badge-Dd1uZi1Y.js";import{H as M,L as z,r as x}from"./app-gPlSlMMq.js";import{S as R}from"./sidebar-layout-OYZ-sQvn.js";import{S as D}from"./search-ByXekZDD.js";import{E as V}from"./eye-CzQx9l1P.js";import{C as J}from"./calendar-Ce5BM7_4.js";import"./vendor-CjZsb-BP.js";import"./index-DaO20brY.js";import"./small-mode-toggle-Cq2mG1yl.js";import"./index-PXYs5pws.js";import"./app-logo-icon-DvYaJ0Ys.js";import"./check-DPxztf0j.js";import"./chevron-up-DxbvufES.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],K=F("Filter",O);function ce({activityLogs:r,filters:s,activityTypes:m,modules:g}){const[h,p]=l.useState(s.search||""),[d,u]=l.useState(s.activity_type||"all"),[i,y]=l.useState(s.module||"all"),[b,j]=l.useState(s.date_from||""),[v,f]=l.useState(s.date_to||""),I=[{title:"Dashboard",href:"/dashboard"},{title:"Log Aktivitas Pengguna",href:"/user-activity-logs"}],N=()=>{x.get("/user-activity-logs",{search:h||void 0,activity_type:d&&d!=="all"?d:void 0,module:i&&i!=="all"?i:void 0,date_from:b||void 0,date_to:v||void 0},{preserveState:!0,replace:!0})},L=()=>{p(""),u("all"),y("all"),j(""),f(""),x.get("/user-activity-logs",{},{preserveState:!0,replace:!0})},B=t=>{try{return new Date(t).toLocaleString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return t}},E=t=>({create:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 border border-green-200",update:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-700 border border-blue-200",delete:"bg-gradient-to-r from-red-100 to-pink-100 text-red-700 border border-red-200",view:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700 border border-gray-200",login:"bg-gradient-to-r from-purple-100 to-indigo-100 text-purple-700 border border-purple-200",logout:"bg-gradient-to-r from-orange-100 to-yellow-100 text-orange-700 border border-orange-200"})[t]||"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-700 border border-gray-200";return e.jsxs(R,{breadcrumbs:I,children:[e.jsx(M,{title:"Log Aktivitas Pengguna"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Log Aktivitas Pengguna"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Pantau dan kelola aktivitas pengguna sistem"})]})}),e.jsxs(w,{className:"border-blue-200/50 dark:border-blue-700/50 bg-gradient-to-r from-blue-50/30 to-purple-50/30 dark:from-blue-900/20 dark:to-purple-900/20",children:[e.jsx(A,{children:e.jsxs(P,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(K,{className:"h-5 w-5"}),"Filter & Pencarian"]})}),e.jsxs(T,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Pencarian"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(c,{placeholder:"Cari aktivitas, pengguna...",value:h,onChange:t=>p(t.target.value),className:"pl-10",onKeyDown:t=>{t.key==="Enter"&&N()}})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Jenis Aktivitas"}),e.jsxs(k,{value:d,onValueChange:u,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Pilih jenis aktivitas"})}),e.jsxs(_,{children:[e.jsx(n,{value:"all",children:"Semua Jenis"}),Object.entries(m).map(([t,a])=>e.jsx(n,{value:t,children:a},t))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Modul"}),e.jsxs(k,{value:i,onValueChange:y,children:[e.jsx(S,{children:e.jsx(C,{placeholder:"Pilih modul"})}),e.jsxs(_,{children:[e.jsx(n,{value:"all",children:"Semua Modul"}),Object.entries(g).map(([t,a])=>e.jsx(n,{value:t,children:a},t))]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Dari Tanggal"}),e.jsx(c,{type:"date",value:b,onChange:t=>j(t.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sampai Tanggal"}),e.jsx(c,{type:"date",value:v,onChange:t=>f(t.target.value)})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(o,{onClick:N,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Cari"]}),e.jsx(o,{variant:"outline",onClick:L,children:"Reset"})]})]})]}),e.jsxs(w,{className:"border-blue-200/50 dark:border-blue-700/50",children:[e.jsx(A,{children:e.jsxs(P,{className:"text-gray-700 dark:text-gray-300",children:["Hasil: ",r.total," aktivitas ditemukan"]})}),e.jsx(T,{children:r.data.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-blue-200/50 dark:border-blue-700/50 bg-gradient-to-r from-blue-50/30 to-purple-50/30 dark:from-blue-900/20 dark:to-purple-900/20",children:[e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Waktu"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Pengguna"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Aktivitas"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Modul"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Deskripsi"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"IP Address"}),e.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-700 dark:text-gray-300",children:"Aksi"})]})}),e.jsx("tbody",{children:r.data.map(t=>e.jsxs("tr",{className:"border-b border-gray-200/50 dark:border-gray-700/50 hover:bg-gradient-to-r hover:from-blue-50/50 hover:to-purple-50/50 dark:hover:from-blue-900/20 dark:hover:to-purple-900/20 transition-all duration-200",children:[e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200 text-sm",children:B(t.created_at)}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:t.user.name}),e.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.user.email})]})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(H,{className:E(t.activity_type),children:m[t.activity_type]||t.activity_type})}),e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200 capitalize",children:g[t.module]||t.module}),e.jsx("td",{className:"px-4 py-2 text-gray-800 dark:text-gray-200",children:t.description}),e.jsx("td",{className:"px-4 py-2 text-gray-600 dark:text-gray-400 text-sm",children:t.ip_address}),e.jsx("td",{className:"px-4 py-2",children:e.jsx(o,{variant:"outline",size:"sm",className:"hover:bg-blue-50 hover:text-blue-600 hover:border-blue-300 transition-all duration-200 shadow-sm hover:shadow-md",asChild:!0,children:e.jsx(z,{href:`/user-activity-logs/${t.id}`,children:e.jsx(V,{className:"h-4 w-4"})})})})]},t.id))})]})}),r.last_page>1&&e.jsx("div",{className:"flex justify-center items-center space-x-2 mt-6",children:r.links.map((t,a)=>e.jsx(o,{variant:t.active?"default":"outline",size:"sm",disabled:!t.url,className:t.active?"bg-gradient-to-r from-blue-600 to-purple-600":"",onClick:()=>{t.url&&x.visit(t.url)},dangerouslySetInnerHTML:{__html:t.label}},a))})]}):e.jsx("div",{className:"text-center py-8",children:e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx(J,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Tidak ada aktivitas yang ditemukan"}),e.jsx("p",{className:"text-sm mt-2",children:"Coba ubah filter atau kriteria pencarian"})]})})})]})]})]})}export{ce as default};
